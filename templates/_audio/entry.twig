{% extends "_core/LayoutMaster" %}

{# Static caching #}
{% set shouldCache = true %}

{# No Indexing #}
{% set noIndex = entry.searchEngineIndexing != 1 %}

{# Meta Title #}
{% if craft.app.request.getSegment(1) %}
    {% set metaTitle = entry.seoTitle|default(entry.title) %}
{% else %}
    {% set metaTitle = entry.seoTitle %}
{% endif %}

{# Meta description #}
{% set metaDescription = entry.seoDescription %}

{# Custom share image #}
{% set shareImageAsset = entry.customShareImage.one() %}
{% if shareImageAsset %}
    {% set shareImage = shareImageAsset.getUrl({
        width: min(1000, shareImageAsset.width)
    }) %}
{% endif %}

{# Hero heading #}
{% set heroHeading = entry.title %}

{# Primary content #}
{% block content %}
    {% include '_partials/MessageList' with {
        entries: [entry],
        backLink: '/media/messages',
        backLinkText: 'back to all messages',
    } only %}
{% endblock %}
