function runFabController(e){"use strict";if(void 0!==window.jQuery){var t=window.jQuery,o={},n=[],i=function(n,i){var a;return"object"==typeof n?(i=n,n=null):"string"!=typeof n&&(i={},n=null),a=function(o){var n,a,r=this,s=$.extend(!0,{},i);for(n in s)s.hasOwnProperty(n)&&(r[n]=s[n]);if("object"==typeof o)for(n in o)o.hasOwnProperty(n)&&(r[n]=o[n]);if(r.el?"string"==typeof r.el?(r.$el=$(r.el),r.el=r.$el.get(0)):r.el instanceof t?(r.$el=r.el,r.el=r.$el.get(0)):r.el instanceof HTMLElement&&(r.$el=$(r.el)):(r.$el=$("<div></div>"),r.el=r.$el.get(0)),"object"==typeof r.model&&void 0!==e.model?e.model.validateGuid(r.model.guid)||(a=e.model.make(r.model),r.model=new a):void 0!==this.model&&(r.model=null),"function"==typeof r.init&&(Array.prototype.shift.apply(arguments),r.init.apply(r,arguments)),"object"==typeof r.events)for(n in r.events)r.events.hasOwnProperty(n)&&"function"==typeof r.events[n]&&function(e,t){e[1]?r.$el.on(e[0],e[1],function(){t.apply(r,arguments)}):r.$el.on(e[0],function(){t.apply(r,arguments)})}(n.split(" "),r.events[n])},n&&(o[n]=a),a};e.controller={make:function(){return i.apply(i,arguments)},construct:function(e){var t;return"function"!=typeof o[e]?null:(t=new(Function.prototype.bind.apply(o[e],arguments)),n.push(t),t)}}}else setTimeout(function(){runFabController(e)},10)}function runAudioPlayer(e,t){"use strict";var o,n,i;window.jQuery&&e.controller?(o=$("#JSTemplate__AudioPlayer").html(),n=e.model.make({playAction:"int"}),i=new n,e.controller.make("AudioPlayer",{$audioPlayerTemplate:null,$playPause:null,$barPlayed:null,$barScrubber:null,$currentTime:null,$rollBack:null,$rollForward:null,$playerSpeed:null,$scrubArea:null,$scrubHover:null,miniClass:"AudioPlayer--Mini",playStoppedClass:"AudioPlayer__PlayPauseButton--Stopped",playPlayingClass:"AudioPlayer__PlayPauseButton--Playing",model:{isMini:"bool",isPlaying:"bool",duration:"string"},init:function(){this.setElements(),this.setWatchers(),this.checkMini()},setElements:function(){var e=this;e.$audioPlayerTemplate=$(o),e.$playPause=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__PlayPause"),e.$barPlayed=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__BarPlayed"),e.$barScrubber=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__BarScrubber"),e.$currentTime=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__CurrentTime"),e.$rollBack=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__RollBack"),e.$rollForward=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__RollForward"),e.$playerSpeed=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__PlayerSpeed"),e.$scrubArea=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__ScrubArea"),e.$scrubHover=e.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__ScrubHover"),e.$audioPlayerTemplate.insertAfter(e.$el),e.$audioPlayerTemplate.prepend(e.$el),e.$el.hide()},setWatchers:function(){var e=this;e.model.onChange("isMini",function(){e.setMini()}),$(window).on("resize.audioPlayer",function(){e.checkMini()}),i.onChange("playAction",function(){e.model.set("isPlaying",!1)}),e.model.onChange("isPlaying",function(t){t?e.playAudio():e.pauseAudio()}),e.$playPause.on("click",function(){var t=!e.model.get("isPlaying");i.set("playAction",i.get("playAction")+1),e.model.set("isPlaying",t)}),e.el.addEventListener("play",function(){e.audioElPlayRespond()}),e.$el.on("play.firstPlay",function(){e.$el.off("play.firstPlay"),e.setDuration()}),e.el.addEventListener("pause",function(){e.audioElPauseRespond()}),e.el.addEventListener("timeupdate",function(){e.audioTimeUpdate()}),e.$rollBack.on("click",function(){e.rollBack()}),e.$rollForward.on("click",function(){e.rollForward()}),e.$playerSpeed.on("click",function(){e.playerSpeedUpdate()}),e.$scrubArea.on("mousemove",function(t){e.scrubAreaMouseMove(t)}),e.$scrubArea.on("mouseout",function(){e.scrubAreaMouseOut()}),e.$scrubArea.on("click",function(t){e.scrubAreaClick(t)})},checkMini:function(){this.model.set("isMini",this.$audioPlayerTemplate.width()<451)},setMini:function(){var e=this;e.model.get("isMini")?e.$audioPlayerTemplate.addClass(e.miniClass):e.$audioPlayerTemplate.removeClass(e.miniClass)},setDuration:function(){var e,t=this,o="";isNaN(t.el.duration)?setTimeout(function(){t.setDuration()},50):((e=new Date(null)).setSeconds(t.el.duration),e.getUTCHours()&&(o+=e.getUTCHours()+":",e.getUTCMinutes()<10&&(o+="0")),o+=e.getUTCMinutes()+":",e.getUTCSeconds()<10&&(o+="0"),o+=e.getUTCSeconds(),t.$audioPlayerTemplate.find(".JSAudioPlayerTemplate__TotalTime").text(o))},playAudio:function(){this.el.play()},pauseAudio:function(){this.el.pause()},audioElPlayRespond:function(){this.$playPause.removeClass(this.playStoppedClass).addClass(this.playPlayingClass),this.el.volume=1},audioElPauseRespond:function(){this.$playPause.addClass(this.playStoppedClass).removeClass(this.playPlayingClass)},audioTimeUpdate:function(){var e=this,t=e.el.currentTime/e.el.duration*100,o=new Date(null),n="";e.$barPlayed.css("width",t+"%"),e.$barScrubber.css("left",t+"%"),o.setSeconds(e.el.currentTime),o.getUTCHours()&&(n+=o.getUTCHours()+":",o.getUTCMinutes()<10&&(n+="0")),n+=o.getUTCMinutes()+":",o.getUTCSeconds()<10&&(n+="0"),n+=o.getUTCSeconds(),e.$currentTime.text(n)},rollBack:function(){var e;this.el.readyState&&(e=(e=this.el.currentTime-parseFloat(this.$rollBack.data("amount")))>0?e:0,this.el.currentTime=e)},rollForward:function(){var e,t=this;t.el.readyState&&(e=(e=t.el.currentTime+parseFloat(t.$rollForward.data("amount")))<t.el.duration?e:t.el.duration,t.el.currentTime=e)},playerSpeedUpdate:function(){var e,t=this;t.el.readyState&&(e=t.el.playbackRate>=2?.5:t.el.playbackRate+.25,t.el.playbackRate=e,t.$playerSpeed.text(e+"x"))},scrubAreaMouseMove:function(e){var t=this,o=t.$scrubArea.width(),n=e.offsetX/o*100,i=t.el.duration*n/100,a=new Date(null),r="";t.el.readyState&&(t.$scrubHover.css("left",n+"%"),a.setSeconds(i),a.getUTCHours()&&(r+=a.getUTCHours()+":",a.getUTCMinutes()<10&&(r+="0")),r+=a.getUTCMinutes()+":",a.getUTCSeconds()<10&&(r+="0"),r+=a.getUTCSeconds(),t.$scrubHover.text(r),t.$scrubHover.css("margin-left","-"+(t.$scrubHover.width()/2+4)+"px"),t.$scrubHover.is(":visible")||t.$scrubHover.fadeIn(400))},scrubAreaMouseOut:function(){this.$scrubHover.fadeOut(400)},scrubAreaClick:function(e){var t=this.$scrubArea.width(),o=e.offsetX/t*100;this.el.readyState&&(this.el.currentTime=this.el.duration*o/100)}})):setTimeout(function(){runAudioPlayer(e,t)},10)}function runGalleryShowcaseBackground(e){"use strict";window.jQuery&&e.controller?e.controller.make("GalleryShowcaseBackground",{init:function(){var e=this;e.$el.find(".JSGalleryShowcaseBackground__Image").length<2||setInterval(function(){e.changeSlide()},8e3)},changeSlide:function(){var e,t="JSGalleryShowcaseBackground__Image--IsActive",o=this.$el.find("."+t),n=o.next(),i=o.data("activeClass");n.length<1&&(n=this.$el.find(".JSGalleryShowcaseBackground__Image").first()),e=n.data("activeClass"),o.removeClass(t),o.removeClass(i),n.addClass(e),n.addClass(t)}}):setTimeout(function(){runGalleryShowcaseBackground(e)},10)}function runGoogleMap(e){"use strict";window.jQuery&&e.controller?e.controller.make("GoogleMap",{map:null,markers:[],init:function(){var t=this;e.GlobalModel.get("googleMapsApiLoaded")?t.initMap():e.assets.load({root:"https://maps.googleapis.com/",js:"/maps/api/js?key="+e.GlobalModel.get("googleApiKey"),success:function(){e.GlobalModel.set("googleMapsApiLoaded",!0),t.initMap()}})},initMap:function(){var e=this,t={latitude:"35.9930301",longitude:"-86.8140445"},o=e.$el.data("initialCenter");"object"==typeof o&&(o.latitude&&(t.latitude=o.latitude),o.longitude&&(t.longitude=o.longitude)),e.map=new window.google.maps.Map(e.el,{center:new window.google.maps.LatLng(t.latitude,t.longitude),zoom:7}),e.setMarkersFromEl(),e.setMarkersFromVarId()},setMarkersFromEl:function(){var e=this.$el.data("markers");if("object"==typeof e&&e.constructor===Array&&e.length){for(var t in e)this.setMarker(e[t]);this.fitMapToMarkers()}},setMarkersFromVarId:function(){var e,t=this.$el.data("markersVarId");if(window.googleMapMarkers&&window.googleMapMarkers[t]){for(var o in e=window.googleMapMarkers[t])this.setMarker(e[o]);this.fitMapToMarkers()}},setMarker:function(e){var t,o,n=this;e.latitude&&e.longitude&&(o=new window.google.maps.Marker({position:{lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)},map:n.map}),n.markers.push(o),e.markerContent&&(t=new window.google.maps.InfoWindow({content:e.markerContent}),o.addListener("click",function(){t.open(n.map,o)})))},fitMapToMarkers:function(){var e,t,o=this.markers,n=new window.google.maps.LatLngBounds;if(o.length){for(var i in o)o.hasOwnProperty(i)&&n.extend(o[i].getPosition());e=new window.google.maps.LatLng(n.getNorthEast().lat()+.001,n.getNorthEast().lng()+.001),t=new window.google.maps.LatLng(n.getNorthEast().lat()-.001,n.getNorthEast().lng()-.001),n.extend(e),n.extend(t),this.map.fitBounds(n)}}}):setTimeout(function(){runGoogleMap(e)},10)}function runMobileMenu(e,t){"use strict";window.jQuery&&e.controller?e.controller.make("MobileMenu",{model:{isActive:"bool"},isMobile:!0,events:{"click .JSMobileMenuActivator":function(e){e.preventDefault(),this.model.set("isActive",!this.model.get("isActive"))},"click .JSMobileMenuCloseAction":function(){this.model.set("isActive",!1)}},init:function(){var e=this;e.model.onChange("isActive",function(){e.menuResponder()}),e.resizeResponder(),$(t).on("resize.MobileMenuWatch",function(){e.resizeResponder()})},resizeResponder:function(){var e=t.innerWidth>=1e3,o=this.isMobile;e&&o&&(this.model.set("isActive",!1),this.deactivateMenu()),this.isMobile=!e},menuResponder:function(){var e=this,o=e.model.get("isActive");t.innerWidth>=1e3?e.model.get("isActive")&&e.deactivateMenu():o?e.activateMenu():e.deactivateMenu()},activateMenu:function(){var e=this,t=$(".JSSiteHeader");t.addClass(t.data("mobileMenuOpenClass")),$(".JSNavList").slideDown(150),$(".JSMobileMenuActivator").each(function(){var e=$(this),t=e.data("activeClass");t&&e.addClass(t)}),$("body").on("click.MobileMenuOff",function(t){$(t.target).closest(".JSNavList").length||e.model.set("isActive",!1)})},deactivateMenu:function(){var e=$(".JSNavList"),t=$(".JSSiteHeader");t.removeClass(t.data("mobileMenuOpenClass")),e.slideUp(150,null,function(){e.attr("style",null)}),$(".JSMobileMenuActivator").each(function(){var e=$(this),t=e.data("activeClass");t&&e.removeClass(t)}),$("body").off("click.MobileMenuOff")}}):setTimeout(function(){runMobileMenu(e,t)},10)}function runPageSubNavMobile(e,t){"use strict";window.jQuery&&e.controller?e.controller.make("PageSubNavMobile",{events:{"click .JSPageSubNav__MobileExpander":function(){this.model.set("isOpen",!this.model.get("isOpen"))},"click .JSPageSubNav__Link":function(e){var t=$(e.currentTarget);this.$el.find(".JSPageSubNav__ActiveText").text(t.text().trim()),this.model.set("isOpen",!1)}},model:{isOpen:"bool",mode:"string"},init:function(){var e=this;e.model.onChange("isOpen",function(t){t?e.openMenu():e.closeMenu()}),e.model.onChange("mode",function(t){"desktop"===t&&e.reset()}),e.setMode(),$(t).on("resize",function(){e.setMode()})},setMode:function(){this.model.set("mode",t.innerWidth>=1200?"desktop":"mobile")},reset:function(){this.model.set("isOpen",!1),this.closeMenu()},openMenu:function(){"desktop"!==this.model.get("mode")&&(this.$el.addClass(this.$el.data("openClass")),this.$el.find(".JSPageSubNav__List").slideDown(200))},closeMenu:function(){var e=this.$el.find(".JSPageSubNav__List");this.$el.removeClass(this.$el.data("openClass")),"desktop"!==this.model.get("mode")?e.slideUp(200):e.attr("style",null)}}):setTimeout(function(){runPageSubNavMobile(e,t)},10)}function runSubNav(e,t){"use strict";var o,n;window.jQuery&&e.controller?(o=e.model.make({currentlyActiveGuid:"string"}),n=new o,$(".JSSiteNav__HasNoSubMenu").on("mouseenter",function(){n.set("currentlyActiveGuid","")}),e.controller.make("SubNav",{model:{subNavIsActive:"bool",mode:"string"},isMobile:!0,mouseLeaveTimer:0,events:{mouseenter:function(){t.innerWidth<1e3||(clearTimeout(this.mouseLeaveTimer),this.model.set("subNavIsActive",!0))},mouseleave:function(){var e=this;t.innerWidth<1e3||(e.mouseLeaveTimer=setTimeout(function(){e.model.set("subNavIsActive",!1)},400))}},init:function(){var e=this;e.model.onChange("subNavIsActive",function(){e.openCloseLogic()}),n.onChange("currentlyActiveGuid",function(t){t!==e.model.guid&&e.model.set("subNavIsActive",!1)})},openCloseLogic:function(){this.model.get("subNavIsActive")?this.openMobileMenu():this.closeMobileMenu()},openMobileMenu:function(){n.set("currentlyActiveGuid",this.model.guid),this.$el.addClass(this.$el.data("subNavOpenClass")),this.$el.find(".JSSiteNav__SubNavList").slideDown(150)},closeMobileMenu:function(){this.$el.removeClass(this.$el.data("subNavOpenClass")),this.$el.find(".JSSiteNav__SubNavList").slideUp(150)}})):setTimeout(function(){runSubNav(e,t)},10)}function runMain(e){"use strict";if(window.jQuery&&e.controller&&e.model){var t=e.model.make({googleApiKey:"string",googleMapsApiLoaded:"bool"});e.GlobalModel=new t($("body").data("vars"));var o=0;e.controller.construct("MobileMenu",{el:"body"}),$(".JSSiteNav__HasSubMenu").each(function(){e.controller.construct("SubNav",{el:this})}),$(".JSGalleryShowcaseBackground").each(function(){var t=this,n=Math.round(2500*Math.random())+500;setTimeout(function(){e.controller.construct("GalleryShowcaseBackground",{el:t})},o),o+=n}),$(".JSGoogleMap").each(function(){e.controller.construct("GoogleMap",{el:this})}),$(".JSPageSubNav").each(function(){e.controller.construct("PageSubNavMobile",{el:this})}),$(".JSAudioPlayer").each(function(){e.controller.construct("AudioPlayer",{el:this})})}else setTimeout(function(){runMain(e)},10)}window.FABNAMESPACE="FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e,t){"use strict";e.assets={load:function(e){new function(e){var o,n=t.getElementsByTagName("head")[0],i=e.root||"/",a="string"==typeof e.js?[e.js]:e.js,r="string"==typeof e.css?[e.css]:e.css,s=!0===e.async,l=0,u=!1,d=function(){0===l&&(u&&"function"==typeof e.failure?e.failure():u||"function"!=typeof e.success||e.success())};for(o in a)a.hasOwnProperty(o)&&l++;for(o in r)r.hasOwnProperty(o)&&l++;for(o in a)if(a.hasOwnProperty(o)){var c=t.createElement("script");c.async=!0===s,c.onload=function(){l--,d()},c.onerror=function(){l--,u=!0,d()},c.src=i+a[o],n.appendChild(c)}for(o in r)if(r.hasOwnProperty(o)){var p=t.createElement("link");p.addEventListener("load",function(){l--,d()},!1),p.addEventListener("error",function(){l--,u=!0,d()},!1),p.rel="stylesheet",p.href=i+r[o],n.appendChild(p)}}(e)}}}(window[window.FABNAMESPACE],document),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},runFabController(window[window.FABNAMESPACE]),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e){"use strict";var t=[],o=function(e){var o;return"object"!=typeof e&&(e={}),(o=function(o){var n,i=this;for(var a in i.guid=(n=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)})()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n(),t.push(i.guid),i.properties={},i.propertyTypes=e,i.changeEvents={},i.propertyTypes)i.propertyTypes.hasOwnProperty(a)&&(i.changeEvents[a]={});for(var r in o)o.hasOwnProperty(r)&&void 0!==i.propertyTypes[r]&&(i.properties[r]=o[r])}).prototype={get:function(e){var t=this;return t.properties[e]?"int"===t.propertyTypes[e]?parseInt(t.properties[e]):"float"===t.propertyTypes[e]?parseFloat(t.properties[e]):"string"===t.propertyTypes[e]?String(t.properties[e]):"bool"===t.propertyTypes[e]?!0===t.properties[e]:"array"===t.propertyTypes[e]?t.properties[e].constructor===Array?t.properties[e]:[]:"object"===t.propertyTypes[e]?t.properties[e].constructor===Object?t.properties[e]:{}:null:"int"===t.propertyTypes[e]||"float"===t.propertyTypes[e]?0:"string"===t.propertyTypes[e]?"":"bool"!==t.propertyTypes[e]&&("array"===t.propertyTypes[e]?[]:"object"===t.propertyTypes[e]?{}:null)},set:function(e,t){var o,n=this,i=!1,a=n.properties[e];if("int"===n.propertyTypes[e]?(n.properties[e]=parseInt(t),i=!0):"float"===n.propertyTypes[e]?(n.properties[e]=parseFloat(t),i=!0):"string"===n.propertyTypes[e]?(n.properties[e]=String(t),i=!0):"bool"===n.propertyTypes[e]?(n.properties[e]=!0===t||"true"===t||"yes"===t||"y"===t,i=!0):"array"===n.propertyTypes[e]?t.constructor===Array&&(n.properties[e]=t,i=!0):"object"===n.propertyTypes[e]&&t.constructor===Object&&(n.properties[e]=t,i=!0),i&&a!==n.properties[e]&&void 0!==n.changeEvents[e])for(var r in o=[n.properties[e],a],n.changeEvents[e])n.changeEvents[e][r].forEach(function(e){e.apply(e,o)})},onChange:function(e,t){var o=this,n=e.split(".");void 0!==o.propertyTypes[n[0]]&&(void 0===n[1]?(void 0===o.changeEvents[n[0]].noNameSpace&&(o.changeEvents[n[0]].noNameSpace=[]),o.changeEvents[n[0]].noNameSpace.push(t)):(void 0===o.changeEvents[n[0]][n[1]]&&(o.changeEvents[n[0]][n[1]]=[]),o.changeEvents[n[0]][n[1]].push(t)))},offChange:function(e){var t=e.split(".");void 0===t[1]?this.changeEvents[t[0]]={}:delete this.changeEvents[t[0]][t[1]]}},o};e.model={make:function(){return o.apply(o,arguments)},validateGuid:function(e){return t.indexOf(e)>-1}}}(window[window.FABNAMESPACE]),window.FAB=window.FAB||{},runAudioPlayer(window.FAB,window),window.FAB=window.FAB||{},runGalleryShowcaseBackground(window.FAB),window.FAB=window.FAB||{},runGoogleMap(window.FAB),window.FAB=window.FAB||{},runMobileMenu(window.FAB,window),window.FAB=window.FAB||{},runPageSubNavMobile(window.FAB,window),window.FAB=window.FAB||{},runSubNav(window.FAB,window),window.FAB=window.FAB||{},runMain(window.FAB);
//# sourceMappingURL=script.min.js.map